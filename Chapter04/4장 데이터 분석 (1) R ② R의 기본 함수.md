## 4장 데이터 분석  (1) R  ② R의 기본 함수

​     

#### 1) 작업 경로

한글이나 엑셀의 불러오기와 같이 어떤 폴더(작업 경로)에서 데이터를 읽을지 R에 알려줘야 합니다.

R이나 R Studio를 종료할 때 작업 공간 이미지 저장을 하면 매번 작업 경로를 설정하지 않아도 됩니다. 만약 저장하지 않으면 아래 소스를 R이나 R studio를 켤 때 마다 입력해야 합니다.​     

```R
getwd()

setwd(“C:/Rtest”)   # 파일 탐색기 - 주소 표시줄의 내용을 복사해서 “ ”안에 넣기

getwd()
```



​    

#### 2) 패키지 설치 및 로딩

```R
install.packages(“패키지명”)  # 패키지 설치 시 반드시 “ ”안에 패키지명을 넣어야 함

library(패키지명)   # 설치한 패키지는 반드시 library를 해야 사용할 수 있음
```

    

​     

#### 3) 객체(변수) 정의

알파벳으로 시작해야 하며 그 뒤에 알파벳(대소문자 구분함), 숫자, 점, _ 기호 등이 가능합니다.



<-(할당연산자)가 기본이며, <<-, =, ->, ->>도 사용 가능하지만 표준이 아닙니다.

ex) a <- 2,  A <- 3, bigdata <- ‘빅데이터’

​     

#### 4) 객체유형과 데이터 유형 확인

```R
class( )   # 객체(데이터가 담긴 그릇)의 유형을 알려주는 함수

mode( )   # 구체적인 데이터의 형태를 알려주는 함수  ex) numeric, logical 등

# 데이터 프레임, 리스트에 있는 데이터들은 class와 mode의 결과가 다르게 나올 수 있다
```

     

​    

#### 5) 데이터 생성

```R
rep( )  # 숫자, 문자를 반복해서 데이터를 생성하는 함수

# rep(데이터, each=각 데이터별 반복 횟수, times = 전체 데이터 반복 횟수)
           # each에 c(  )를 사용해 데이터별로 반복 횟수를 다르게 지정할 수 있다
```

​     

```R
seq( )  # 숫자를 차례대로 나열하면서 데이터를 생성하는 함수

# seq(데이터, from=시작 데이터, to=끝 데이터, length=총 데이터 개수)
                                        # length의 개수에 따라 중간 데이터는 소수 가능
```

​     

#### 6) 반복문 - R에서는 잘 사용하지 않습니다

​     

```R
for문 : 반복 횟수가 고정된 경우 사용

for(임의의 변수 in 데이터) {
    실행코드문
}
```

​     

```R
while : 반복 횟수를 모르는 경우 사용

while(임의의 변수 < 실행 횟수) {
         실행코드문
}
```

​     

#### 7) 조건문

```R
if (데이터  조건문) {    # 조건문 == : 같음, >= : 이상, <= : 이하 등
    실행코드   # 결과가 참인 경우 실행
} else {    
    실행코드   # 결과가 거짓인 경우 실행
}
```

​     

#### 8) 사용자 정의 함수

```R
함수명 <- function(인자명) {
    실행코드
    return(지역변수)
}
```

​     

#### 9) 문자열 함수

```R
paste( )   # (  ) 안에 넣은 문자열들을 결합하는 함수

# paste(데이터, sep=“기호”, collapse=“기호”)

# sep= 데이터들을 어떤 기호들로 연결할 것인가?, collapse=연결한 데이터들을 어떤 기호로 묶어 하나의 문자열로 만들 것인가?
```

​     

```R
cat( )  # 입력한 데이터들을 공백 기호를 넣어 하나의 문자열로 출력하는 함수

# sep인자를 통해 문자 사이에 어떤 기호를 넣을지 결정할 수 있음
```

​     

```R
strsplit( )  # 어떤 기호를 기준으로 데이터를 분리할지 결정하는 함수

# strsplit(데이터, split=“기호”)
```

​

```R
nchar( )  # 문자열의 글자 수를 출력하는 함수

substr( )  # 문자열에서 특정 부분만 선택하는 함수

# substr(문자열, 시작 위치/인덱스, 끝나는 위치/인덱스)
```



​     

#### 10) 날짜, 시간 함수

```R
Sys.time( )  # 현재 시스템상 날짜 + 시간 출력

Sys.Date( )  # 현재 시스템상 시간 출력
```

​     

```R
as.Date(“문자열”)  # 문자열들을 날짜형 데이터로 변환

# as.Date(“문자열”, format=“서식”)
# yyyy/mm/dd 형태가 아니면 입력한 데이터의 서식(%Y-%m-%d)을 입력해주어야 함

# 참고 : %a = 요일, %d = 일(숫자), %b = 알파벳 3글자 월, %m = 숫자 2자리 월, %W = 주, %Y = 숫자 4자리 년도
```

​     



#### 11) 기타 함수&단축키

① Ctrl + Enter : 한 줄 실행(실행할 영역을 마우스로 블록지정한 다음 Ctrl + Enter를 누르면 여러 줄 실행 = batch job)

② Ctrl + L : 콘솔 화면 청소

③ ?(함수명, 데이터셋), help(함수명, 데이터셋) : 함수나 데이터셋에 대한 도움말 검색

④ help(package=패키지명) : 패키지에 대한 도움말 검색

⑤ ls( ) : 변수 목록보기

⑥ rm( ) : 변수 삭제하기 → rm(list=ls()) : 모든 변수 삭제하기

    

​     

#### 참고문헌

c강사님의 강의노트

​     

윤종식, 「2017 데이터 분석 준전문가(2017 개정판)」, 제이에스데이타, 2016.

​     



-- 2018.10.03
